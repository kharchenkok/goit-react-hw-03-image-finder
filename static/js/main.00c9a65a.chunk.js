(this["webpackJsonpbase-react"]=this["webpackJsonpbase-react"]||[]).push([[0],{20:function(e,t,a){e.exports=a(65)},25:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=(a(25),a(8)),u=a(3),i=a(4),s=a(6),m=a(5),g=a(1),h=a.n(g),p=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.handleInput=function(t){e.setState({inputValue:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.inputValue),e.setState({inputValue:""})},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{onChange:this.handleInput,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"}))}}]),a}(n.Component);function d(e){var t=e.onSubmit;return r.a.createElement("header",{className:"Searchbar"},r.a.createElement(p,{onSubmit:t}))}p.propTypes={onSubmit:h.a.func.isRequired};var b=a(7),f=a.n(b);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12;try{return f.a.get("/?key=".concat("17935343-c69abdbb5347cbe1498525dc9","&q=").concat(e,"&page=").concat(t,"&per_page=").concat(a,"&image_type=photo")).then((function(e){return e.data.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}))}))}catch(n){console.log(n)}}f.a.defaults.baseURL="https://pixabay.com/api";a(45);var y=a(19),E=a.n(y),S=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{className:"loader",type:"Circles",color:"#3f51b5",height:80,width:80,timeout:3e3})}}]),a}(n.Component);function I(e){var t=e.image,a=e.setLargeImage,n=t.webformatURL,c=t.largeImageURL;return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:n,alt:"super-gallery",className:"ImageGalleryItem__image",onClick:function(){return a(c)}}))}var O=a(67);function j(e){var t=e.images,a=e.setLargeImage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(I,{key:Object(O.a)(),image:e,setLargeImage:a})}))))}function k(e){var t=e.loadMore;return r.a.createElement("button",{className:"Button Button_loadmore",type:"button",onClick:t},"Load more")}var L=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){"overlay"===t.target.dataset.name&&e.props.onClose()},e.handleKey=function(t){"Escape"===t.code&&e.props.onClose()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKey)}},{key:"render",value:function(){return r.a.createElement("div",{className:"Overlay","data-name":"overlay",onClick:this.handleClick},r.a.createElement("div",{className:"Modal","data-name":"modal"},r.a.createElement("img",{src:this.props.src,alt:"large"})))}}]),a}(n.Component),C=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],userQuery:"",page:1,itemsPerPage:12,loading:!1,largeImageUrl:null},e.getImageFetch=function(){var t=e.state;v(t.userQuery,t.page,t.itemsPerPage).then((function(t){return e.setState((function(e){return{images:[].concat(Object(l.a)(e.images),Object(l.a)(t)),page:e.page+1}}))})).catch((function(e){return console.log(e)})).finally((function(){return e.setState({loading:!1})}))},e.handleSubmit=function(t){e.setState({images:[],userQuery:t,page:1})},e.setLargeImage=function(t){e.setState({largeImageUrl:t})},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state,n=a.images,r=a.userQuery;t.userQuery!==r&&(this.setState({loading:!0}),this.getImageFetch()),t.images.length!==n.length&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this,t=this.state,a=t.images,n=t.loading,c=t.largeImageUrl,o=t.itemsPerPage;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{onSubmit:this.handleSubmit}),n&&r.a.createElement(S,null),a.length>0&&r.a.createElement(j,{images:a,setLargeImage:this.setLargeImage}),a.length>=o&&r.a.createElement(k,{loadMore:this.getImageFetch}),c&&r.a.createElement(L,{onClose:function(){return e.setLargeImage(null)},src:c}))}}]),a}(n.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.00c9a65a.chunk.js.map